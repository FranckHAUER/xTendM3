{"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"LstCofaCredit":{"sourceUuid":"710e0457-1d1d-4402-af8a-9a9a045a4e45","name":"LstCofaCredit","program":"EXT001MI","description":"Recherche des enregistrements pour COFA Crédit","active":true,"multi":true,"modified":1697716469406,"modifiedBy":"FRALEP","outputFields":[{"name":"YEA4","description":"Number","length":4,"mandatory":false,"type":"N"},{"name":"JRNO","description":"Journal number","length":7,"mandatory":false,"type":"N"},{"name":"JSNO","description":"Journal sequence number","length":7,"mandatory":false,"type":"N"},{"name":"CUNO","description":"Customer","length":10,"mandatory":false,"type":"A"},{"name":"PYNO","description":"Payer","length":10,"mandatory":false,"type":"A"},{"name":"IVDT","description":"Invoice date","length":8,"mandatory":false,"type":"N"},{"name":"DUDT","description":"Due date","length":8,"mandatory":false,"type":"N"},{"name":"RMBL","description":"Payment reminder stop","length":1,"mandatory":false,"type":"N"},{"name":"PYCD","description":"Payment method - accounts receivable","length":3,"mandatory":false,"type":"A"},{"name":"CUCD","description":"Currency","length":3,"mandatory":false,"type":"A"},{"name":"CUAM","description":"Foreign currency amount","length":15,"mandatory":false,"type":"N"},{"name":"PYRS","description":"Remittance status","length":2,"mandatory":false,"type":"A"},{"name":"RMST","description":"Status - payment reminder","length":1,"mandatory":false,"type":"N"},{"name":"TEPY","description":"Payment terms","length":3,"mandatory":false,"type":"A"},{"name":"CINO","description":"Invoice number","length":15,"mandatory":false,"type":"A"},{"name":"VTXT","description":"Voucher text","length":40,"mandatory":false,"type":"A"},{"name":"SENS","description":"D = Débit, C = Crédit","length":1,"mandatory":false,"type":"A"}],"inputFields":[{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A"},{"name":"ISFR","description":"If = 1, CSCD = FR, if = 0, CFCD != FR","length":1,"mandatory":true,"type":"N"},{"name":"CFC8","description":"User defined field 8","length":3,"mandatory":false,"type":"A"},{"name":"CUCD","description":"Currency","length":3,"mandatory":false,"type":"A"},{"name":"FC10","description":"Si FC10 = 1, TRCD = 10, si FC10 = 0 alors R+TRCD != 10","length":1,"mandatory":true,"type":"N"}],"utilities":[]}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"710e0457-1d1d-4402-af8a-9a9a045a4e45":{"uuid":"710e0457-1d1d-4402-af8a-9a9a045a4e45","updated":1698661241181,"updatedBy":"FRALEP","created":1697700011099,"createdBy":"FRALEP","apiVersion":"0.21","beVersion":"16.0.0.20230822184312.6","language":"GROOVY","codeHash":"B1EAD980AC3F2C40C7146F0480D2EA67ED3E062FEDD0A3F44BB604AE17E9F022","code":"LyoqDQogKiBSRUFETUUNCiAqIEFQSSBzcMOpY2lmaXF1ZSBhZmluIGRlIGNyb2lzZXIgT0NVU01BLCBGU0xFREcgZXQgRkdMRURHIHBvdXIgbGVzIGludGVyZmFjZXMgQ09GQSBDcsOpZGl0DQogKg0KICogTmFtZTogTHN0Q29mYUNyZWRpdA0KICogRGVzY3JpcHRpb246IA0KICogRGF0ZSAgICAgICBDaGFuZ2VkIEJ5ICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb24NCiAqIDIwMjMxMDE5ICAgRnJhbsOnb2lzIExlcHLDqXZvc3QgICAgICAgICAgICAgQ3LDqWF0aW9uIHZlcmJlIExzdENvZmFDcmVkaXQNCiAqLw0KcHVibGljIGNsYXNzIExzdENvZmFDcmVkaXQgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaQ0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlDQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtDQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5DQogIA0KICBwdWJsaWMgTHN0Q29mYUNyZWRpdChNSUFQSSBtaSwgRGF0YWJhc2VBUEkgZGF0YWJhc2UgLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBVdGlsaXR5QVBJIHV0aWxpdHkpIHsNCiAgICB0aGlzLm1pID0gbWkNCiAgICB0aGlzLmRhdGFiYXNlID0gZGF0YWJhc2UNCiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtDQogICAgdGhpcy51dGlsaXR5ID0gdXRpbGl0eQ0KICB9DQogIA0KICBpbnQgY29ubyA9IDANCiAgU3RyaW5nIGRpdmkgPSAiIg0KICBTdHJpbmcgY2ZjOCA9ICIiDQogIFN0cmluZyBjdWNkID0gIiINCiAgaW50IGlzZnIgPSAwDQogIGludCBmYzEwID0gMA0KICANCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBjb25vID0gKEludGVnZXIpIHByb2dyYW0uZ2V0TERBWkQoKS5DT05PDQogICAgZGl2aSA9IG1pLmluRGF0YS5nZXQoIkRJVkkiKS50cmltKCkNCiAgICBTdHJpbmcgaXNmclJlY3UgPSBtaS5pbkRhdGEuZ2V0KCJJU0ZSIikudHJpbSgpDQogICAgY2ZjOCA9IG1pLmluRGF0YS5nZXQoIkNGQzgiKS50cmltKCkNCiAgICBjdWNkID0gbWkuaW5EYXRhLmdldCgiQ1VDRCIpLnRyaW0oKQ0KICAgIFN0cmluZyBmYzEwUmVjdSA9IG1pLmluRGF0YS5nZXQoIkZDMTAiKS50cmltKCkNCiAgICANCiAgICBpZiAoZGl2aS5pc0VtcHR5KCkpIHsNCiAgICAgIG1pLmVycm9yKCJMYSBkaXZpc2lvbiBlc3Qgb2JsaWdhdG9pcmUuIikNCiAgICAgIHJldHVybg0KICAgIH0gZWxzZSBpZiAoIWNoZWNrRGl2aUV4aXN0KCkpIHsNCiAgICAgIG1pLmVycm9yKCJMYSBkaXZpc2lvbiBlc3QgaW5leGlzdGFudGUuIikNCiAgICAgIHJldHVybg0KICAgIH0NCiAgICANCiAgICBpZiAoaXNmclJlY3UuaXNFbXB0eSgpKSB7DQogICAgICBtaS5lcnJvcigiTGUgY2hhbXAgSVNGUiBlc3Qgb2JsaWdhdG9pcmUuIikNCiAgICAgIHJldHVybg0KICAgIH0gZWxzZSBpZiAoIWlzZnJSZWN1LmVxdWFscygiMSIpICYmICFpc2ZyUmVjdS5lcXVhbHMoIjAiKSkgew0KICAgICAgbWkuZXJyb3IoIkxlIGNoYW1wIElTRlIgYWNjZXB0ZSB1bmlxdWVtZW50IGxlcyB2YWxldXJzIDAgb3UgMS4iKQ0KICAgICAgcmV0dXJuDQogICAgfSBlbHNlIHsNCiAgICAgIGlzZnIgPSBJbnRlZ2VyLnBhcnNlSW50KGlzZnJSZWN1KQ0KICAgIH0NCiAgICANCiAgICBpZiAoZmMxMFJlY3UuaXNFbXB0eSgpKSB7DQogICAgICBtaS5lcnJvcigiTGUgY2hhbXAgRkMxMCBlc3Qgb2JsaWdhdG9pcmUuIikNCiAgICAgIHJldHVybg0KICAgIH0gZWxzZSBpZiAoIWZjMTBSZWN1LmVxdWFscygiMSIpICYmICFmYzEwUmVjdS5lcXVhbHMoIjAiKSkgew0KICAgICAgbWkuZXJyb3IoIkxlIGNoYW1wIEZDMTAgYWNjZXB0ZSB1bmlxdWVtZW50IGxlcyB2YWxldXJzIDAgb3UgMS4iKQ0KICAgICAgcmV0dXJuDQogICAgfSBlbHNlIHsNCiAgICAgIGZjMTAgPSBJbnRlZ2VyLnBhcnNlSW50KGZjMTBSZWN1KQ0KICAgIH0NCiAgICANCiAgICBzZWFyY2hDdXN0b21lcnMoKQ0KICAgIA0KICB9DQogIA0KICAvLyBPbiB2w6lyaWZpZSBxdWUgbGEgRElWSSBleGlzdGUNCiAgcHJpdmF0ZSBib29sZWFuIGNoZWNrRGl2aUV4aXN0KCkgew0KICAgIERCQWN0aW9uIHF1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkNNTkRJViIpLmluZGV4KCIwMCIpLnNlbGVjdGlvbigiQ0NDT05NIikuYnVpbGQoKQ0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lciA9IHF1ZXJ5LmdldENvbnRhaW5lcigpDQogICAgY29udGFpbmVyLnNldCgiQ0NDT05PIiwgY29ubykNCiAgICBjb250YWluZXIuc2V0KCJDQ0RJVkkiLCBkaXZpKQ0KICAgIA0KICAgIHJldHVybiBxdWVyeS5yZWFkKGNvbnRhaW5lcikNCiAgfQ0KICANCiAgLy8gUmVjaGVyY2hlIGRlIGxhIGxpc3RlIGRlcyBjbGllbnRzIGVuIGZpbHRyYW50IHN1ciBDRkM4IGV0IENTQ0QuDQogIHByaXZhdGUgdm9pZCBzZWFyY2hDdXN0b21lcnMoKSB7DQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT0NVU01BIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJPS0NVTk8iLCAiT0tDRkM4IiwgIk9LQ1NDRCIpLmJ1aWxkKCkNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXIgPSBxdWVyeS5nZXRDb250YWluZXIoKQ0KICAgIGNvbnRhaW5lci5zZXQoIk9LQ09OTyIsIGNvbm8pDQogICAgDQogICAgQ2xvc3VyZTw/PiByZWxlYXNlZEN1c3RvbWVyUHJvY2Vzc29yID0gew0KICAgICAgREJDb250YWluZXIgZGF0YSAtPg0KICAgICAgDQogICAgICBTdHJpbmcgQ1VOTyA9IFN0cmluZy52YWx1ZU9mKGRhdGEuZ2V0KCJPS0NVTk8iKSkudHJpbSgpDQogICAgICBTdHJpbmcgQ0ZDOCA9IFN0cmluZy52YWx1ZU9mKGRhdGEuZ2V0KCJPS0NGQzgiKSkudHJpbSgpDQogICAgICBTdHJpbmcgQ1NDRCA9IFN0cmluZy52YWx1ZU9mKGRhdGEuZ2V0KCJPS0NTQ0QiKSkudHJpbSgpDQogICAgICANCiAgICAgIGlmIChDRkM4LmVxdWFscyhjZmM4KSkgew0KICAgICAgICBpZiAoKGlzZnIgPT0gMSAmJiBDU0NELmVxdWFscygiRlIiKSkgfHwgKGlzZnIgPT0gMCAmJiAhQ1NDRC5lcXVhbHMoIkZSIikpKSB7DQogICAgICAgICAgc2VhcmNoRnNsZWRnRW5yZWdzKENVTk8pDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9DQogICAgIA0KICAgIGludCBwYWdlU2l6ZSA9IG1pLmdldE1heFJlY29yZHMoKSA8PSAwIHx8IG1pLmdldE1heFJlY29yZHMoKSA+PSAxMDAwMCA/IDEwMDAwOiBtaS5nZXRNYXhSZWNvcmRzKCkNCiAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgMSwgcGFnZVNpemUsIHJlbGVhc2VkQ3VzdG9tZXJQcm9jZXNzb3IpDQogIH0NCiAgDQogIC8vIFJlY2hlcmNoZSBkZXMgZmFjdHVyZXMgZGFucyBGU0xFREcgcG91ciBsZXMgY2xpZW50cyB0cm91dsOpcyBwcsOpY8OpZGVtbWVudC4NCiAgcHJpdmF0ZSBzZWFyY2hGc2xlZGdFbnJlZ3MoU3RyaW5nIGN1bm8pIHsNCiAgICBEQkFjdGlvbiBxdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJGU0xFREciKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaW5kZXgoIjQwIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbEZpZWxkcygpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5idWlsZCgpDQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICBjb250YWluZXIuc2V0KCJFU0NPTk8iLCBjb25vKQ0KICAgIGNvbnRhaW5lci5zZXQoIkVTRElWSSIsIGRpdmkpDQogICAgY29udGFpbmVyLnNldCgiRVNDVU5PIiwgY3VubykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgQ2xvc3VyZTw/PiByZWxlYXNlZEZzbGVkZ1Byb2Nlc3NvciA9IHsNCiAgICAgIERCQ29udGFpbmVyIGRhdGEgLT4NCiAgICAgIGRvdWJsZSBjdWFtID0gKGRvdWJsZSkgZGF0YS5nZXQoIkVTQ1VBTSIpDQogICAgICBpbnQgaWljZCA9IChpbnQpIGRhdGEuZ2V0KCJFU0lJQ0QiKQ0KICAgICAgaW50IHRyY2QgPSAoaW50KSBkYXRhLmdldCgiRVNUUkNEIikNCiAgICAgIFN0cmluZyBjdWNkRnNsZWRnID0gU3RyaW5nLnZhbHVlT2YoZGF0YS5nZXQoIkVTQ1VDRCIpKS50cmltKCkNCiAgICAgIA0KICAgICAgaWYgKGN1YW0gIT0gMGQgJiYgaWljZCAhPSA5ICYmIGN1Y2QuZXF1YWxzKGN1Y2RGc2xlZGcpKSB7DQogICAgICAgIGlmICgoZmMxMCA9PSAxICYmIHRyY2QgPT0gMTApIHx8IChmYzEwID09IDAgJiYgdHJjZCAhPSAxMCkpIHsNCiAgICAgICAgICBzZWFyY2hGZ2xlZGcoZGF0YSwgY3VubykNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICBpbnQgcGFnZVNpemUgPSBtaS5nZXRNYXhSZWNvcmRzKCkgPD0gMCB8fCBtaS5nZXRNYXhSZWNvcmRzKCkgPj0gMTAwMDAgPyAxMDAwMDogbWkuZ2V0TWF4UmVjb3JkcygpDQogICAgcXVlcnkucmVhZEFsbChjb250YWluZXIsIDMsIHBhZ2VTaXplLCByZWxlYXNlZEZzbGVkZ1Byb2Nlc3NvcikNCiAgfQ0KICANCiAgLy8gcmVjaGVyY2hlIGR1IFZUWFQgZGFucyBGR0xFREcNCiAgcHJpdmF0ZSBzZWFyY2hGZ2xlZGcoREJDb250YWluZXIgZGF0YUZzbGVkZywgU3RyaW5nIGN1bm8pIHsNCiAgICBpbnQganJubyA9IChpbnQpIGRhdGFGc2xlZGcuZ2V0KCJFU0pSTk8iKQ0KICAgIGludCBqc25vID0gKGludCkgZGF0YUZzbGVkZy5nZXQoIkVTSlNOTyIpDQogICAgaW50IHllYTQgPSAoaW50KSBkYXRhRnNsZWRnLmdldCgiRVNZRUE0IikgDQogICAgDQogICAgREJBY3Rpb24gcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRkdMRURHIikuaW5kZXgoIjAwIikuc2VsZWN0aW9uKCJFR1ZUWFQiKS5idWlsZCgpDQogICAgREJDb250YWluZXIgY29udGFpbmVyID0gcXVlcnkuZ2V0Q29udGFpbmVyKCkNCiAgICBjb250YWluZXIuc2V0KCJFR0NPTk8iLCBjb25vKQ0KICAgIGNvbnRhaW5lci5zZXQoIkVHRElWSSIsIGRpdmkpDQogICAgY29udGFpbmVyLnNldCgiRUdZRUE0IiwgeWVhNCkNCiAgICBjb250YWluZXIuc2V0KCJFR0pSTk8iLCBqcm5vKQ0KICAgIGNvbnRhaW5lci5zZXQoIkVHSlNOTyIsIGpzbm8pDQogICAgDQogICAgQ2xvc3VyZTw/PiByZWxlYXNlZEZzbGVkZ1Byb2Nlc3NvciA9IHsNCiAgICAgIERCQ29udGFpbmVyIGRhdGEgLT4NCiAgICAgIA0KICAgICAgbWkub3V0RGF0YS5wdXQoIlZUWFQiLCBTdHJpbmcudmFsdWVPZihkYXRhLmdldCgiRUdWVFhUIikpKQ0KICAgIH0NCiAgICANCiAgICBxdWVyeS5yZWFkQWxsKGNvbnRhaW5lciwgNSwgcmVsZWFzZWRGc2xlZGdQcm9jZXNzb3IpDQogICAgDQogICAgbWkub3V0RGF0YS5wdXQoIkNVTk8iLCBjdW5vKQ0KICAgIG1pLm91dERhdGEucHV0KCJZRUE0IiwgU3RyaW5nLnZhbHVlT2YoeWVhNCkpDQogICAgbWkub3V0RGF0YS5wdXQoIkpSTk8iLCBTdHJpbmcudmFsdWVPZihqcm5vKSkNCiAgICBtaS5vdXREYXRhLnB1dCgiSlNOTyIsIFN0cmluZy52YWx1ZU9mKGpzbm8pKQ0KICAgIG1pLm91dERhdGEucHV0KCJQWU5PIiwgU3RyaW5nLnZhbHVlT2YoZGF0YUZzbGVkZy5nZXQoIkVTUFlOTyIpKSkNCiAgICBtaS5vdXREYXRhLnB1dCgiSVZEVCIsIFN0cmluZy52YWx1ZU9mKGRhdGFGc2xlZGcuZ2V0KCJFU0lWRFQiKSkpDQogICAgbWkub3V0RGF0YS5wdXQoIkRVRFQiLCBTdHJpbmcudmFsdWVPZihkYXRhRnNsZWRnLmdldCgiRVNEVURUIikpKQ0KICAgIG1pLm91dERhdGEucHV0KCJSTUJMIiwgU3RyaW5nLnZhbHVlT2YoZGF0YUZzbGVkZy5nZXQoIkVTUk1CTCIpKSkNCiAgICBtaS5vdXREYXRhLnB1dCgiUFlDRCIsIFN0cmluZy52YWx1ZU9mKGRhdGFGc2xlZGcuZ2V0KCJFU1BZQ0QiKSkpDQogICAgbWkub3V0RGF0YS5wdXQoIkNVQ0QiLCBTdHJpbmcudmFsdWVPZihkYXRhRnNsZWRnLmdldCgiRVNDVUNEIikpKQ0KICAgIGRvdWJsZSBjdWFtID0gKGRvdWJsZSkgZGF0YUZzbGVkZy5nZXQoIkVTQ1VBTSIpDQogICAgbWkub3V0RGF0YS5wdXQoIkNVQU0iLCBTdHJpbmcudmFsdWVPZihjdWFtKSkNCiAgICBtaS5vdXREYXRhLnB1dCgiUFlSUyIsIFN0cmluZy52YWx1ZU9mKGRhdGFGc2xlZGcuZ2V0KCJFU1BZUlMiKSkpDQogICAgbWkub3V0RGF0YS5wdXQoIlJNU1QiLCBTdHJpbmcudmFsdWVPZihkYXRhRnNsZWRnLmdldCgiRVNSTVNUIikpKQ0KICAgIG1pLm91dERhdGEucHV0KCJURVBZIiwgU3RyaW5nLnZhbHVlT2YoZGF0YUZzbGVkZy5nZXQoIkVTVEVQWSIpKSkNCiAgICBtaS5vdXREYXRhLnB1dCgiQ0lOTyIsIFN0cmluZy52YWx1ZU9mKGRhdGFGc2xlZGcuZ2V0KCJFU0NJTk8iKSkpDQogICAgaWYgKGN1YW0gPj0gMCkgew0KICAgICAgbWkub3V0RGF0YS5wdXQoIlNFTlMiLCAiQyIpDQogICAgfSBlbHNlIHsNCiAgICAgIG1pLm91dERhdGEucHV0KCJTRU5TIiwgIkQiKQ0KICAgIH0NCiAgICBtaS53cml0ZSgpDQogIH0NCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCiAgDQogIA0KICANCn0="}}}